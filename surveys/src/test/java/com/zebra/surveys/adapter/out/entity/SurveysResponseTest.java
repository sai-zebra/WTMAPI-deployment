package com.zebra.surveys.adapter.out.entity;


import com.zebra.surveys.adapter.output.entity.SurveyResponse;
import org.junit.jupiter.api.DisplayName;
import org.junit.jupiter.api.Test;

import java.util.HashMap;
import java.util.Map;

import static org.assertj.core.api.Assertions.assertThat;

/**
 * Unit tests for the SurveyResponse entity.
 * This class primarily tests the getters and setters generated by Lombok
 * to ensure they behave as expected and kill related PITest mutations.
 */
class SurveyResponseTest {

    @Test
    @DisplayName("Should correctly set and get the ID")
    void shouldSetAndGetId() {
        // Given
        SurveyResponse response = new SurveyResponse();
        String expectedId = "response-id-123";

        // When
        response.setId(expectedId);
        String actualId = response.getId();

        // Then
        // This assertion will fail if getId() is mutated to return "", killing the mutant.
        assertThat(actualId).isEqualTo(expectedId);
    }

    @Test
    @DisplayName("Should correctly set and get the Survey ID")
    void shouldSetAndGetSurveyId() {
        // Given
        SurveyResponse response = new SurveyResponse();
        String expectedSurveyId = "survey-abc-789";

        // When
        response.setSurveyId(expectedSurveyId);

        // Then
        assertThat(response.getSurveyId()).isEqualTo(expectedSurveyId);
    }

    @Test
    @DisplayName("Should correctly set and get the responses map")
    void shouldSetAndGetResponses() {
        // Given
        SurveyResponse response = new SurveyResponse();
        Map<String, String> expectedResponses = new HashMap<>();
        expectedResponses.put("q1", "Answer 1");
        expectedResponses.put("q2", "Answer 2");

        // When
        response.setResponses(expectedResponses);

        // Then
        assertThat(response.getResponses()).isEqualTo(expectedResponses);
    }
}
